# ADHDo.it - Flutter

 Flutter приложение ...

## Структура проекта

 ```
    .x
    ├── ...
    ├── lib
    │   ├── ...
    │   ├── main.dart
    │   ├── ...
    │   ├── app
    │   │   ├── app.dart
    │   ├── ...
    │   ├── config
    │   │   ├── router
    │   │   │   ├── app_route.dart
    │   │   │   ├── router.dart
    │   │   ├── theme
    │   │   │   ├── theme.dart
    │   │   ├── config.dart
    │   ├── ...
    │   ├── data
    │   │   ├── models
    │   │   │   ├── ...
    │   │   ├── repositories
    │   │   │   ├── ...
    │   │   ├── client
    │   │   │   ├── client.dart
    │   │   ├── ├── interceptors
    │   │   │   ├── ...
    │   │   ├── storage
    │   │   │   ├── local_storage.dart
    │   │   ├── ├── ...
    │   ├── hooks
    │   │   ├── ...
    │   ├── providers
    │   │   ├── dependencies.dart
    │   │   ├── auth_providers.dart
    │   │   ├── ...
    │   ├── helpers
    │   │   ├── ...
    │   ├── ui
    │   │   ├── screens
    │   │   │   ├── ...
    │   │   ├── widgets
    │   │   │   ├── ...
    │   │   ├── dialogs
    │   │   │   ├── ...
    │   │   ├── templates
    │   │   │   ├── ...
    │   │   ├── ...
    │   ├── l10n
    │   │   ├── ...
    │   ├── ...
    ├── ...
```

### Обзор структуры проекта

- `lib` - Это корневая папка проекта, где хранится основной код приложения.
- `main.dart` - Это точка входа в приложение. Здесь происходит инициализация приложения и запуск.
- `app` - Эта папка содержит основные классы приложения.
    - `app.dart` - Это основной класс приложения, который содержит настройки и конфигурацию приложения.
- `config` - Эта папка содержит конфигурацию приложения, включая настройки роутинга, темы и общие настройки.
    - `router` - Эта папка содержит конфигурацию роутинга.
        - `app_route.dart` - Этот класс содержит конфигурацию роутинга, включая определение всех маршрутов в приложении.
        - `router.dart` - Этот класс содержит роутер, который управляет навигацией в приложении.
    - `theme` - Эта папка содержит конфигурацию темы приложения.
        - `theme.dart` - Этот класс содержит конфигурацию темы, включая определение цветовой схемы и стилей текста.
    - `config.dart` - Этот файл содержит общую конфигурацию приложения, включая настройки сети, локализации и константы.
- `data` - Эта папка содержит данные приложения, включая модели, репозитории, клиент для работы с сетью и хранилище данных.
    - `models` - Здесь находятся модели данных, которые представляют сущности приложения.
    - `repositories` - Здесь находятся репозитории данных, которые предоставляют доступ к данным приложения.
    - `client` - Эта папка содержит клиент для работы с сетью.
        - `client.dart` - Этот класс содержит клиент для работы с сетью, который используется для выполнения HTTP-запросов.
        - `interceptors` - Эта папка содержит интерсепторы для клиента, которые используются для перехвата и модификации HTTP-запросов и ответов.
    - `storage` - Здесь находится хранилище данных, которое используется для хранения данных приложения локально.
        - `local_storage.dart` - Этот класс содержит хранилище данных, которое используется для сохранения и извлечения данных на устройстве пользователя.
- `hooks` - Эта папка содержит хуки, которые используются для управления состоянием в приложении.
- `providers` - Эта папка содержит провайдеры Riverpod, которые используются для управления состоянием и зависимостями в приложении.
    - `dependencies.dart` - Этот класс содержит провайдеры зависимостей, которые используются для инъекции зависимостей в приложение.
    - `auth_providers.dart` - Этот класс содержит провайдеры авторизации, которые используются для управления состоянием авторизации пользователя.
- `helpers` - Эта папка содержит утилитарные функции и классы, которые используются в различных частях приложения.
- `ui` - Эта папка содержит компоненты пользовательского интерфейса, включая экраны, виджеты, диалоги и шаблоны.
    - `screens` - Здесь находятся экраны приложения, каждый из которых представляет собой отдельный пользовательский интерфейс.
    - `widgets` - Здесь находятся переиспользуемые виджеты, которые используются на различных экранах приложения.
    - `dialogs` - Здесь находятся диалоги приложения, которые используются для взаимодействия с пользователем.
    - `templates` - Здесь находятся глобальные шаблоны для отрисовки пользовательского интерфейса.
- `l10n` - Эта папка содержит локализацию приложения, включая переводы на различные языки.


#### Riverpod Провайдеры и их использование: 

В нашем проекте объявление провайдеров зависимостей и авторизации находится в файлах `lib/providers/dependencies.dart` и `lib/providers/auth_providers.dart` соответственно. 

Провайдеры в Riverpod используются для управления глобальными данными и функционалом, которые общие для разных частей приложения. Они предоставляют механизм для доступа к этим данным и функциям из любой части приложения, что делает их идеальным инструментом для работы с глобальным состоянием.

Для управления локальными данными и функционалом, которые специфичны для конкретного виджета или экрана, рекомендуется использовать хуки или стандартный `StatefulWidget`. Хуки позволяют управлять состоянием внутри виджета и автоматически обновлять виджет при изменении состояния.

При создании новых провайдеров рекомендуется использовать генератор кода [riverpod_generator](https://pub.dev/packages/riverpod_generator). Этот инструмент автоматически генерирует код для провайдеров, что упрощает их создание и уменьшает вероятность ошибок.

#### Хелперы: 

Хелперы, находящиеся в lib/helpers, могут быть как классами, так и глобальными функциями. Разделяйте их на универсальные и специфичные для функционала, а также на синхронные и асинхронные. Помните о размещении UI-хелперов в отдельной области.

#### UI: 

Все компоненты пользовательского интерфейса размещаются в lib/ui. Экраны, виджеты, диалоги и шаблоны должны быть логически сгруппированы в соответствующих папках. Обеспечьте разделение виджетов и диалогов для конкретных и общих экранов. Используйте глобальные шаблоны для чистой отрисовки UI без логики.

##### Экраны:

Экраны представляют собой отдельные пользовательские интерфейсы, которые могут быть открыты из других экранов. Каждый экран должен быть размещен в отдельной папке внутри lib/ui/screens. Внутри папки экрана должны быть размещены все файлы, связанные с этим экраном, включая виджеты и диалоги. 

##### Виджеты:

Виджеты представляют собой переиспользуемые компоненты пользовательского интерфейса, которые могут быть использованы на различных экранах. Не размещайте виджеты в папках экранов, если они могут быть использованы на других экранах. 
Наименование виджетов должно быть лаконичным и описывать их функционал. Имена типа `CustomTextField` или `AppButton` считаются неправильными, поскольку они не описывают функционал виджета. Вместо этого используйте имена типа `EmailTextField` или `LoginButton`, которые описывают функционал виджета. 

##### Диалоги:

Такие же правила, как и для виджетов, применяются к диалогам.

#### Локализация: 

Локализация приложения находится в lib/l10n. Для каждого языка создается отдельный файл с переводом.

#### Роутинг:

Для обеспечения навигации между различными экранами вашего приложения используется маршрутизация (роутинг). В проекте используется библиотека GoRouter, которая облегчает управление путями и переходами между экранами.

Определение маршрутов:
Маршруты представлены классом AppRoute. Этот класс принимает путь (path) и необязательный дополнительный маршрут (_route). Экземпляры класса AppRoute объявлены в классе Routes в виде статических констант. 
```dart
class Routes {
  static const home = AppRoute(path: '/');
  static const login = AppRoute(path: '/login');
  static const profile = AppRoute(path: '/profile');
}
```

Построение роутера:
Функция buildRouter создает экземпляр GoRouter, который управляет навигацией между экранами. В приведенном примере определены маршруты для экранов SplashScreen и AuthScreen.
```dart
GoRouter buildRouter(BuildContext context) {
  return GoRouter(
    initialLocation: Routes.splash.path,
    routes: [
      GoRoute(
        path: Routes.splash.path,
        builder: (context, state) {
          return const SplashScreen();
        },
      ),
      GoRoute(
        path: Routes.auth.path,
        builder: (context, state) {
          return const AuthScreen();
        },
      ),
    ],
    errorBuilder: (context, state) {
      return Scaffold(
        body: Center(
          child: Text('Route not found ${state.path}'),
        ),
      );
    },
  );
}
```

Внутри функции buildRouter вы можете определить маршруты для каждого экрана и их строение с использованием GoRoute. В случае ошибки (например, маршрут не найден), предоставлен пользовательский экран ошибки.

#### Тема:

Для управления оформлением вашего приложения используется класс AppTheme и перечисление ThemeType, определяющее различные типы тем. Эти типы тем определяют основные цвета, шрифты и другие стилизованные аспекты приложения.

Определение типов тем:
Перечисление ThemeType может быть расширено для определения новых типов тем. В приведенном примере определены типы темы Light и Dark.
```dart
enum ThemeType {
  lightBlue,
  darkBlue;

  bool get isLight => this == ThemeType.lightBlue;
  bool get isDark => this == ThemeType.darkBlue;
}
```

Определение темы:

Класс AppTheme содержит параметры, которые определяют внешний вид приложения в зависимости от выбранного типа темы. Для каждого типа темы создан фабричный метод fromType, который инициализирует экземпляр класса AppTheme с учетом определенных параметров для каждого типа темы.

```dart
class AppTheme {
  // ... (параметры темы)
  
  AppTheme({this.isDark = false}) {
    // ... (инициализация основных цветов и стилей)
  }

  factory AppTheme.fromType(ThemeType t) {
    switch (t) {
      case ThemeType.lightBlue:
        return AppTheme(isDark: false)
          ..type = t
          // ... (настройки для светлой темы)
        
      case ThemeType.darkBlue:
        return AppTheme(isDark: true)
          ..type = t
          // ... (настройки для темной темы)
    }
  }

  // ... (дополнительные методы и свойства)

  ThemeData get themeData {
    // ... (определение данных темы для ThemeData)
  }
}
```

Получение данных о теме:
Метод themeData возвращает объект ThemeData, который используется для настройки оформления приложения.

